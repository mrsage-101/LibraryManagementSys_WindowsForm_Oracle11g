CREATE TABLE members(
    memberid number PRIMARY KEY,
    name VARCHAR(45)  NOT NULL,
    email VARCHAR(20),
    phone VARCHAR(20),
    address VARCHAR(200)
);

DESC members

ALTER TABLE members ADD passwords VARCHAR(100) NOT NULL;

CREATE TABLE books(
   bookid number PRIMARY KEY,
   title  VARCHAR(200) NOT NULL,
   author VARCHAR(200) NOT NULL,
   subjectcategory VARCHAR(50),
   publicationdate DATE,
   racknumber VARCHAR(14)
);

DESC books
DROP TABLE books

CREATE TABLE bookitem(
   bookitemid number PRIMARY KEY,
   bookid number NOT NULL,
   status VARCHAR(20) NOT NULL,
   CONSTRAINT fk_book_items_books
   FOREIGN KEY (bookid)
   REFERENCES books (bookid)
   ON DELETE CASCADE
);

DESC bookitem
DROP TABLE bookitem

CREATE TABLE checkouts(
   checkoutid number PRIMARY KEY,
   bookitemid number NOT NULL,
   memberid number NOT NULL,
   checkoutdate DATE NOT NULL,
   duedate DATE NOT NULL,
   returndate DATE NOT NULL,

   CONSTRAINT fk_checkouts_bookitem
   FOREIGN KEY (bookitemid)
   REFERENCES bookitem (bookitemid)
   ON DELETE CASCADE,
   
   CONSTRAINT fk_checkouts_members
   FOREIGN KEY (memberid)
   REFERENCES members (memberid)
   ON DELETE CASCADE 
);

DESC checkouts


CREATE TABLE reservations(
   reservationsid number PRIMARY Key,
   bookid number NOT NULL,
   memberid number NOT NULL,
   reservationdate  DATE NOT NULL,
   expirydate DATE NOT NULL,
   status VARCHAR(20) NOT NULL,
   
   CONSTRAINT fk_reservations_books
   FOREIGN KEY (bookid)
   REFERENCES books (bookid)
   ON DELETE CASCADE,
   
   CONSTRAINT fk_reservations_members
   FOREIGN KEY (memberid)
   REFERENCES members (memberid)
   ON DELETE CASCADE 
);

DESC reservations

CREATE TABLE admin(
  username varchar(40),
  password varchar(12)
);


